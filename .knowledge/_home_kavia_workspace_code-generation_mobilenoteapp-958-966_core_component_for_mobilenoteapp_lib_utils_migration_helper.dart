{"is_source_file": true, "format": "Dart", "description": "This Dart source file defines the 'MigrationHelper' class, which facilitates data migrations between app versions in a Flutter application. It includes methods for migrating data to different versions, handling versioning, and updating note data with new fields during migration.", "external_files": ["../models/note.dart", "../services/storage/storage_adapter.dart"], "external_methods": ["StorageAdapter.getValue", "StorageAdapter.setValue", "StorageAdapter.getValues", "StorageAdapter.setValues"], "published": ["MigrationHelper"], "classes": [{"name": "MigrationHelper", "description": "Utility class for managing data schema migrations across different app versions, ensuring note data is upgraded appropriately."}], "methods": [{"name": "migrateIfNeeded", "description": "Performs data migrations based on current version, updating data to the latest schema version."}, {"name": "_getCurrentVersion", "description": "Retrieves the current data version from storage."}, {"name": "_migrateToV1", "description": "Handles migration from version 0 to version 1 by adding timestamps to notes."}, {"name": "_migrateToV2", "description": "Handles migration from version 1 to version 2 by adding categories to notes."}], "calls": ["StorageAdapter.getValue", "StorageAdapter.setValue", "StorageAdapter.getValues", "StorageAdapter.setValues"], "search-terms": ["MigrationHelper", "data migration", "version upgrade", "notes schema", "storage adapter", "migration methods"], "state": 2, "file_id": 23, "knowledge_revision": 49, "git_revision": "", "filename": "/home/kavia/workspace/code-generation/mobilenoteapp-958-966/core_component_for_mobilenoteapp/lib/utils/migration_helper.dart", "hash": "5d64b5d08c791449978e1bb895783bdc", "format-version": 4, "code-base-name": "default", "revision_history": [{"49": ""}]}